<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>src\node\class.node.button.js - cgSceneGraph</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.7.0&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="..&#x2F;assets/favicon.png">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;combo?3.7.0&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/__GLOBAL_CONSTANTS__.html">__GLOBAL_CONSTANTS__</a></li>
            
                <li><a href="..&#x2F;classes/__GLOBAL_METHODS__.html">__GLOBAL_METHODS__</a></li>
            
                <li><a href="..&#x2F;classes/__GLOBAL_PROPERTIES__.html">__GLOBAL_PROPERTIES__</a></li>
            
                <li><a href="..&#x2F;classes/__UTIL_ARRAY__.html">__UTIL_ARRAY__</a></li>
            
                <li><a href="..&#x2F;classes/CGSGAnimationKey.html">CGSGAnimationKey</a></li>
            
                <li><a href="..&#x2F;classes/CGSGButtonMode.html">CGSGButtonMode</a></li>
            
                <li><a href="..&#x2F;classes/CGSGColor.html">CGSGColor</a></li>
            
                <li><a href="..&#x2F;classes/CGSGDimension.html">CGSGDimension</a></li>
            
                <li><a href="..&#x2F;classes/CGSGHandleBox.html">CGSGHandleBox</a></li>
            
                <li><a href="..&#x2F;classes/CGSGMath.html">CGSGMath</a></li>
            
                <li><a href="..&#x2F;classes/CGSGNode.html">CGSGNode</a></li>
            
                <li><a href="..&#x2F;classes/CGSGNodeButton.html">CGSGNodeButton</a></li>
            
                <li><a href="..&#x2F;classes/CGSGNodeCircle.html">CGSGNodeCircle</a></li>
            
                <li><a href="..&#x2F;classes/CGSGNodeEllipse.html">CGSGNodeEllipse</a></li>
            
                <li><a href="..&#x2F;classes/CGSGNodeImage.html">CGSGNodeImage</a></li>
            
                <li><a href="..&#x2F;classes/CGSGNodeSprite.html">CGSGNodeSprite</a></li>
            
                <li><a href="..&#x2F;classes/CGSGNodeSquare.html">CGSGNodeSquare</a></li>
            
                <li><a href="..&#x2F;classes/CGSGNodeText.html">CGSGNodeText</a></li>
            
                <li><a href="..&#x2F;classes/CGSGNodeWebview.html">CGSGNodeWebview</a></li>
            
                <li><a href="..&#x2F;classes/CGSGParticle.html">CGSGParticle</a></li>
            
                <li><a href="..&#x2F;classes/CGSGParticleEmitter.html">CGSGParticleEmitter</a></li>
            
                <li><a href="..&#x2F;classes/CGSGParticleSystem.html">CGSGParticleSystem</a></li>
            
                <li><a href="..&#x2F;classes/CGSGPickNodeMethod.html">CGSGPickNodeMethod</a></li>
            
                <li><a href="..&#x2F;classes/CGSGPosition.html">CGSGPosition</a></li>
            
                <li><a href="..&#x2F;classes/CGSGRegion.html">CGSGRegion</a></li>
            
                <li><a href="..&#x2F;classes/CGSGRotation.html">CGSGRotation</a></li>
            
                <li><a href="..&#x2F;classes/CGSGScale.html">CGSGScale</a></li>
            
                <li><a href="..&#x2F;classes/CGSGScene.html">CGSGScene</a></li>
            
                <li><a href="..&#x2F;classes/CGSGSceneGraph.html">CGSGSceneGraph</a></li>
            
                <li><a href="..&#x2F;classes/CGSGTimeline.html">CGSGTimeline</a></li>
            
                <li><a href="..&#x2F;classes/CGSGTraverser.html">CGSGTraverser</a></li>
            
                <li><a href="..&#x2F;classes/CGSGVector2D.html">CGSGVector2D</a></li>
            
                <li><a href="..&#x2F;classes/CGSGWEBVIEWMODE.html">CGSGWEBVIEWMODE</a></li>
            
                <li><a href="..&#x2F;classes/CGSGWrapMode.html">CGSGWrapMode</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="..&#x2F;modules/Animation.html">Animation</a></li>
            
                <li><a href="..&#x2F;modules/Math.html">Math</a></li>
            
                <li><a href="..&#x2F;modules/Node.html">Node</a></li>
            
                <li><a href="..&#x2F;modules/ParticleSystem.html">ParticleSystem</a></li>
            
                <li><a href="..&#x2F;modules/Scene.html">Scene</a></li>
            
                <li><a href="..&#x2F;modules/Util.html">Util</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: src\node\class.node.button.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
&#x2F;*
 * Copyright (c) 2012  Capgemini Technology Services (hereinafter “Capgemini”)
 *
 * License&#x2F;Terms of Use
 *
 * Permission is hereby granted, free of charge and for the term of intellectual property rights on the Software, to any
 * person obtaining a copy of this software and associated documentation files (the &quot;Software&quot;), to use, copy, modify
 * and propagate free of charge, anywhere in the world, all or part of the Software subject to the following mandatory conditions:
 *
 *   •    The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
 *
 *  Any failure to comply with the above shall automatically terminate the license and be construed as a breach of these
 *  Terms of Use causing significant harm to Capgemini.
 *
 *  THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE
 *  WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS
 *  OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
 *  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 *  Except as contained in this notice, the name of Capgemini shall not be used in advertising or otherwise to promote
 *  the use or other dealings in this Software without prior written authorization from Capgemini.
 *
 *  These Terms of Use are subject to French law.
 *&#x2F;

&#x2F;**
 * List the modes for a button : NORMAL, OVER, DEACTIVATED.
 * @class CGSGButtonMode
 * @type {Object}
 * @author Gwennael Buchet (gwennael.buchet@capgemini.com)
 * @example
 *      myTextNode.setWrapMode(CGSGWrapMode.WORD, true);
 *&#x2F;
var CGSGButtonMode = {
	&#x2F;**
	 * @property NORMAL
	 *&#x2F;
	NORMAL      : {index : 0},
	&#x2F;**
	 * @property OVER
	 *&#x2F;
	OVER        : {index : 1},
	&#x2F;**
	 * @property DEACTIVATED
	 *&#x2F;
	DEACTIVATED : {index : 2}
};

&#x2F;**
 * A CGSGNodeButton represent a basic square
 *
 * @class CGSGNodeButton
 * @module Node
 * @extends CGSGNode
 * @constructor
 * @param {Number} x Relative position on X
 * @param {Number} y Relative position on X
 * @param {Number} width Relative dimension
 * @param {Number} height Relative Dimension
 * @param {Number} radius Radius for the round corner
 * @type {CGSGNodeButton}
 * @author Gwennael Buchet (gwennael.buchet@capgemini.com)
 *&#x2F;
var CGSGNodeButton = CGSGNode.extend(
	{
		initialize : function(x, y, text) {
			this._super(x, y, 0, 0);

			&#x2F;**
			 * High colors for the button in 3 mode : normal, over, deactivated
			 * @property _firstColors
			 * @default [&quot;#858585&quot;, &quot;#5F5F5F&quot;, &quot;#9C9C9C&quot;]
			 * @type {Array}
			 * @private
			 *&#x2F;
			this._firstColors = [&quot;#969696&quot;, &quot;#5F5F5F&quot;, &quot;#D8D8D8&quot;];
			&#x2F;**
			 * Low color for the button in 3 mode : normal, over, deactivated
			 * @property _lastColors
			 * @default [&quot;#606060&quot;, &quot;#4B4B4B&quot;, &quot;#747474&quot;]
			 * @type {Array}
			 * @private
			 *&#x2F;
			this._lastColors = [&quot;#7F7F7F&quot;, &quot;#4B4B4B&quot;, &quot;#B5B5B5&quot;];

			&#x2F;**
			 * Shadow color for the button in 3 mode : normal, over, deactivated. Can be null.
			 * @property _shadowColors
			 * @default [null, null, null]
			 * @type {Array}
			 * @private
			 *&#x2F;
			this._shadowColors = [null, null, null];

			&#x2F;**
			 * Radius for the round corner in 3 mode : normal, over, deactivated
			 * @property _radiuses
			 * @type {Array}
			 * @default [10, 10, 10]
			 * @private
			 *&#x2F;
			this._radiuses = [8, 8, 8];

			&#x2F;**
			 * Text for the button in 3 mode : normal, over, deactivated
			 * @property _texts
			 * @default [text, text, text]
			 * @type {Array}
			 * @private
			 *&#x2F;
			this._texts = [text, text, text];

			&#x2F;**
			 * Text size for the button in 3 mode : normal, over, deactivated
			 * @property _textSizes
			 * @default [12, 12, 12]
			 * @type {Array}
			 * @private
			 *&#x2F;
			this._textSizes = [12, 12, 12];

			&#x2F;**
			 * Color for the text in the 3 mode  : normal, over, deactivated
			 * @property _textColors
			 * @type {Array}
			 * @default [&quot;white&quot;, &quot;white&quot;, &quot;gray&quot;]
			 * @private
			 *&#x2F;
			this._textColors = [&quot;white&quot;, &quot;white&quot;, &quot;#999999&quot;];

			&#x2F;**
			 * Text Node encapsulating the text rendering
			 * @property _textsNode
			 * @type {CGSGNodeText}
			 *&#x2F;
			this.textNode = new CGSGNodeText(0, 0, &quot;&quot;);
			this.textNode.setTextAlign(&quot;center&quot;, false);
			this.textNode.setTextBaseline(&quot;middle&quot;, false);

			&#x2F;**
			 * Fake canvases to pre-render static display
			 * @property _tmpCanvas
			 * @type {Array}
			 * @private
			 *&#x2F;
			this._tmpCanvas =
			[document.createElement(&#x27;canvas&#x27;), document.createElement(&#x27;canvas&#x27;), document.createElement(&#x27;canvas&#x27;)];

			&#x2F;**
			 * Padding applied to the left and right of the text
			 * @property _horizontalPadding
			 * @type {Number}
			 * @default 15
			 * @private
			 *&#x2F;
			this._horizontalPadding = 16;
			&#x2F;**
			 * Padding applied to the top and bottom of the text
			 * @property _verticalPadding
			 * @type {Number}
			 * @default 5
			 * @private
			 *&#x2F;
			this._verticalPadding = 7;

			&#x2F;**
			 * @property classType
			 * @readonly
			 * @type {String}
			 * @default &quot;CGSGNodeButton&quot;
			 *&#x2F;
			this.classType = &quot;CGSGNodeButton&quot;;

			this._initShapes();

			&#x2F;**
			 * Current mode of the button
			 * @property _currentMode
			 * @type {CGSGButtonMode}
			 * @default CGSGButtonMode.NORMAL
			 * @private
			 *&#x2F;
			this._currentMode = CGSGButtonMode.NORMAL;

			this.setMode(CGSGButtonMode.NORMAL);

			var that = this;
			this.onMouseOver = function(event) {
				if (that.getMode() == CGSGButtonMode.NORMAL) {
					that.setMode(CGSGButtonMode.OVER);
				}
			};

			this.onMouseOut = function(event) {
				if (that.getMode() == CGSGButtonMode.OVER) {
					that.setMode(CGSGButtonMode.NORMAL);
				}
			};
		},

		&#x2F;**
		 * Return the High color for the button
		 * @method getFirstColor
		 * @return {Array}
		 *&#x2F;
		getFirstColor : function() {
			return this._firstColors;
		},
		&#x2F;**
		 * Set the value for the high color of the button
		 * @method setFirstColor
		 * @param value {Array}
		 *&#x2F;
		setFirstColor : function(value) {
			this._firstColors = value;
			this._initShapes();
		},

		&#x2F;**
		 * Return the Low color for the button
		 * @method getLastColor
		 * @return {Array}
		 *&#x2F;
		getLastColor : function() {
			return this._lastColors;
		},
		&#x2F;**
		 * Set the value for the low color of the button
		 * @method setLastColor
		 * @param value {Array}
		 *&#x2F;
		setLastColor : function(value) {
			this._lastColors = value;
			this._initShapes();
		},

		&#x2F;**
		 * Return the Shadow color for the button
		 * @method getShadowColor
		 * @return {Array}
		 *&#x2F;
		getShadowColor : function() {
			return this._shadowColors;
		},
		&#x2F;**
		 * Set the value for the shadow color of the button
		 * @method setShadowColor
		 * @param value {Array}
		 *&#x2F;
		setShadowColor : function(value) {
			this._shadowColors = value;
			this._initShapes();
		},

		&#x2F;**
		 * Return the Low color for the button
		 * @method getRadius
		 * @return {Array}
		 *&#x2F;
		getRadius : function() {
			return this._radiuses;
		},
		&#x2F;**
		 * Set the value for the low color of the button
		 * @method setRadius
		 * @param value {Array}
		 *&#x2F;
		setRadius : function(value) {
			this._radiuses = value;
			this._initShapes();
		},

		&#x2F;**
		 * Return the text of the button
		 * @method getText
		 * @return {Array}
		 *&#x2F;
		getText : function() {
			return this._texts;
		},
		&#x2F;**
		 * Set the value for text of the button
		 * @method setText
		 * @param value {Array}
		 * @example
		 *  button.setText([&quot;normal&quot;, &quot;over&quot;, &quot;deactivated&quot;]);
		 *&#x2F;
		setText : function(value) {
			this._texts = value;
			this._initShapes();
		},

		&#x2F;**
		 * Return the text sizes of the button
		 * @method getTextSize
		 * @return {Array}
		 *&#x2F;
		getTextSize : function() {
			return this._textSizes;
		},
		&#x2F;**
		 * Set the value for text sizes of the button
		 * @method setTextSize
		 * @param value {Array}
		 *&#x2F;
		setTextSize : function(value) {
			this._textSizes = value;
			this._initShapes();
		},

		&#x2F;**
		 * Return the text of the button
		 * @method getTextColor
		 * @return {Array}
		 *&#x2F;
		getTextColor : function() {
			return this._textColors;
		},
		&#x2F;**
		 * Set the color for text of the button
		 * @method setTextColor
		 * @param value {Array}
		 * @example
		 *  button.setTextColor([&quot;white&quot;, &quot;green&quot;, &quot;yellow&quot;]);
		 *&#x2F;
		setTextColor : function(value) {
			this._textColors = value;
			this._initShapes();
		},

		&#x2F;**
		 * Return the horizontal padding of the button
		 * @method getHorizontalPadding
		 * @return {Number}
		 *&#x2F;
		getHorizontalPadding : function() {
			return this._horizontalPadding;
		},
		&#x2F;**
		 * Set the horizontal padding of the button
		 * @method setHorizontalPadding
		 * @param value {Number}
		 *&#x2F;
		setHorizontalPadding : function(value) {
			this._horizontalPadding = value;
			this._initShapes();
		},

		&#x2F;**
		 * Return the vertical padding of the button
		 * @method getVerticalPadding
		 * @return {Number}
		 *&#x2F;
		getVerticalPadding : function() {
			return this._verticalPadding;
		},
		&#x2F;**
		 * Set the vertical padding of the button
		 * @method setHorizontalPadding
		 * @param value {Number}
		 *&#x2F;
		setVerticalPadding : function(value) {
			this._verticalPadding = value;
			this._initShapes();
		},

		&#x2F;**
		 * Pre-render the button into a temp canvas to optimize the perfs
		 * @method _initShape
		 * @private
		 *&#x2F;
		_initShapes : function() {
			this._initShape(0);
			this._initShape(1);
			this._initShape(2);
		},

		&#x2F;**
		 * Pre-render the shape for normal rendering
		 * @method _initShape
		 * @param {Number} index
		 * @private
		 *&#x2F;
		_initShape : function(index) {
			this.textNode.setSize(this._textSizes[index], false);
			this.textNode.setText(this._texts[index], true);
			this.resizeTo(this.textNode.getWidth() + 2 * this._horizontalPadding,
			              this.textNode.getHeight() + 2 * this._verticalPadding);

			this._tmpCanvas[index].width = this.dimension.width + 2 * this._radiuses[index];
			this._tmpCanvas[index].height = this.dimension.height + 2 * this._radiuses[index];
			var tmpContext = this._tmpCanvas[index].getContext(&#x27;2d&#x27;);

			cgsgClearContext(tmpContext);

			&#x2F;&#x2F;render the panel
			tmpContext.save();
			{
				tmpContext.translate(-this._radiuses[index], -this._radiuses[index]);
				tmpContext.beginPath();

				tmpContext.moveTo(this._radiuses[index], this._radiuses[index]);
				tmpContext.lineTo(this._radiuses[index] + this.dimension.width - this._radiuses[index],
				                  this._radiuses[index]);
				tmpContext.quadraticCurveTo(this._radiuses[index] + this.dimension.width,
				                            this._radiuses[index],
				                            this._radiuses[index] + this.dimension.width,
				                            this._radiuses[index] + this._radiuses[index]);
				tmpContext.lineTo(this._radiuses[index] + this.dimension.width,
				                  this._radiuses[index] + this.dimension.height - this._radiuses[index]);
				tmpContext.quadraticCurveTo(this._radiuses[index] + this.dimension.width,
				                            this._radiuses[index] + this.dimension.height,
				                            this._radiuses[index] + this.dimension.width - this._radiuses[index],
				                            this._radiuses[index] + this.dimension.height);
				tmpContext.lineTo(this._radiuses[index] + this._radiuses[index],
				                  this._radiuses[index] + this.dimension.height);
				tmpContext.quadraticCurveTo(this._radiuses[index],
				                            this._radiuses[index] + this.dimension.height,
				                            this._radiuses[index],
				                            this._radiuses[index] + this.dimension.height - this._radiuses[index]);
				tmpContext.lineTo(this._radiuses[index], this._radiuses[index] + this._radiuses[index]);
				tmpContext.quadraticCurveTo(this._radiuses[index], this._radiuses[index],
				                            this._radiuses[index] + this._radiuses[index],
				                            this._radiuses[index]);
				tmpContext.closePath();


				var gradient = tmpContext.createLinearGradient(0, 0, 0, this.dimension.height);
				gradient.addColorStop(0, this._firstColors[index]);
				gradient.addColorStop(1, this._lastColors[index]);
				tmpContext.fillStyle = gradient;

				if (cgsgExist(this._shadowColors)) {
					tmpContext.shadowColor = this._shadowColors[index];
					tmpContext.shadowBlur = 10;
					tmpContext.shadowOffsetX = 0;
					tmpContext.shadowOffsetY = 0;
				}

				tmpContext.fill();
			}
			tmpContext.restore();

			this.textNode.color = this._textColors[index];

			var x = (this.getWidth() - this.textNode.getWidth()) &#x2F; 2;
			var y = (this.getHeight() - (this.textNode.getHeight() - this.textNode._size)) &#x2F; 2;

			this.textNode.translateTo(x, y);
			this.textNode.render(tmpContext);
		},

		&#x2F;**
		 * Switch current mode
		 * @method setMode
		 * @param {CGSGButtonMode} mode
		 *&#x2F;
		setMode : function(mode) {
			this._currentMode = mode;
		},

		&#x2F;**
		 * @method getMode
		 * @return {CGSGButtonMode}
		 *&#x2F;
		getMode : function() {
			return this._currentMode;
		},

		&#x2F;**
		 * Custom rendering
		 * @method render
		 * @protected
		 * @override
		 * @param {CanvasRenderingContext2D} context the context into render the node
		 * *&#x2F;
		render : function(context) {
			&#x2F;&#x2F;save current state
			this.beforeRender(context);

			context.globalAlpha = this.globalAlpha;
			&#x2F;&#x2F;render the pre-rendered canvas
			context.drawImage(this._tmpCanvas[this._currentMode.index], 0, 0);

			&#x2F;&#x2F;restore state
			this.afterRender(context);
		},

		&#x2F;**
		 * @method copy
		 * @return {CGSGNodeSquare} a copy of this node
		 *&#x2F;
		copy : function() {
			var node = new CGSGNodeSquare(this.position.x, this.position.y, this.dimension.width,
			                              this.dimension.height);
			&#x2F;&#x2F;call the super method
			node = this._super(node);

			node.color = this.color;
			node.lineColor = this.lineColor;
			node.lineWidth = this.lineWidth;
			return node;
		}
	}
);

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<script src="..&#x2F;assets/../api.js"></script>
<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
